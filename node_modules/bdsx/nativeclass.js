"use strict";
var _a, _b, _c, _d, _e, _f;
Object.defineProperty(exports, "__esModule", { value: true });
exports.NativeArray = exports.nativeClass = exports.nativeField = exports.NativeClass = void 0;
const common_1 = require("./common");
const core_1 = require("./core");
const makefunc_1 = require("./makefunc");
const nativetype_1 = require("./nativetype");
const singleton_1 = require("./singleton");
const util_1 = require("./util");
const isNativeClass = Symbol();
const isSealed = Symbol();
const offsetmap = Symbol();
function accessor(key) {
    if (typeof key === 'number')
        return `[${key}]`;
    if (/^[a-zA-Z_$][a-zA-Z_$]*$/.test(key))
        return `.${key}`;
    return `[${JSON.stringify(key)}]`;
}
class StructureDefination {
    constructor(supercls) {
        this.fields = {};
        this.eof = supercls[nativetype_1.NativeType.size];
        this.align = supercls[nativetype_1.NativeType.align];
    }
    define(clazz, size) {
        if (size == null) {
            if (size === null) {
                this.eof = null;
            }
            else {
                size = this.eof !== null ? (((this.eof + this.align - 1) / this.align) | 0) * this.align : null;
            }
        }
        else {
            if (this.eof !== null) {
                if (this.eof > size)
                    throw Error(`field offsets are bigger than the class size. fields_end=${this.eof}, size=${size}`);
            }
            this.eof = size;
        }
        if (makefunc_1.makefunc.np2js in clazz) {
            clazz[nativetype_1.NativeType.getter] = wrapperGetter;
            clazz[nativetype_1.NativeType.descriptor] = wrapperDescriptor;
        }
        sealClass(clazz);
        const offsets = clazz[offsetmap] = {};
        const propmap = new nativetype_1.NativeDescriptorBuilder;
        for (const key in this.fields) {
            const [type, offset] = this.fields[key];
            type[nativetype_1.NativeType.descriptor](propmap, key, offset);
            offsets[key] = offset;
        }
        const types = propmap.types;
        if (propmap.ctor.code !== '') {
            const ctorfunc = new Function('NativeType', 'types', propmap.ctor.code);
            const superCtor = clazz.prototype[nativetype_1.NativeType.ctor];
            clazz.prototype[nativetype_1.NativeType.ctor] = function () {
                ctorfunc.call(this, nativetype_1.NativeType, types);
                superCtor.call(this);
            };
        }
        if (propmap.dtor.code !== '') {
            const dtorfunc = new Function('NativeType', 'types', propmap.dtor.code);
            const superDtor = clazz.prototype[nativetype_1.NativeType.dtor];
            clazz.prototype[nativetype_1.NativeType.dtor] = function () {
                dtorfunc.call(this, nativetype_1.NativeType, types);
                superDtor.call(this);
            };
        }
        if (propmap.ctor_copy.code !== '') {
            const copyfunc = new Function('NativeType', 'types', 'o', propmap.ctor_copy.code);
            clazz.prototype._default_copy = function (o) {
                copyfunc.call(this, nativetype_1.NativeType, types, o);
            };
        }
        clazz[core_1.StructurePointer.contentSize] =
            clazz.prototype[nativetype_1.NativeType.size] =
                clazz[nativetype_1.NativeType.size] = size;
        clazz[nativetype_1.NativeType.align] = this.align;
        Object.defineProperties(clazz.prototype, propmap.desc);
    }
    field(key, type, fieldOffset) {
        if (util_1.isBaseOf(type, NativeClass)) {
            sealClass(type);
        }
        const alignofType = type[nativetype_1.NativeType.align];
        if (alignofType > this.align)
            this.align = alignofType;
        let offset = 0;
        if (fieldOffset != null) {
            offset = fieldOffset;
        }
        else {
            if (this.eof === null) {
                throw Error('Cannot set a field without the offset, if the sizeof previous field or super class is unknown');
            }
            offset = (((this.eof + alignofType - 1) / alignofType) | 0) * alignofType;
        }
        this.fields[key] = [type, offset];
        const sizeofType = type[nativetype_1.NativeType.size];
        if (sizeofType === null) {
            this.eof = null;
        }
        else {
            offset += sizeofType;
            if (this.eof !== null) {
                if (offset !== null && offset > this.eof)
                    this.eof = offset;
            }
        }
    }
}
const structures = new WeakMap();
class NativeClass extends core_1.StructurePointer {
    constructor(ptr) {
        super(ptr);
    }
    static isNativeClassType(type) {
        return isNativeClass in type;
    }
    [(_a = nativetype_1.NativeType.size, _b = nativetype_1.NativeType.align, _c = core_1.StructurePointer.contentSize, _d = isNativeClass, _e = isSealed, nativetype_1.NativeType.size, nativetype_1.NativeType.ctor)]() {
        // empty
    }
    [nativetype_1.NativeType.dtor]() {
        // empty
    }
    _default_copy(from) {
        this.copyFrom(from, this[nativetype_1.NativeType.size]);
    }
    [nativetype_1.NativeType.ctor_copy](from) {
        this._default_copy(from);
    }
    [nativetype_1.NativeType.ctor_move](from) {
        this[nativetype_1.NativeType.ctor_copy](from);
    }
    [nativetype_1.NativeType.setter](from) {
        this[nativetype_1.NativeType.dtor]();
        this[nativetype_1.NativeType.ctor_copy](from);
    }
    static [nativetype_1.NativeType.ctor](ptr) {
        ptr.as(this)[nativetype_1.NativeType.ctor]();
    }
    static [nativetype_1.NativeType.dtor](ptr) {
        ptr.as(this)[nativetype_1.NativeType.dtor]();
    }
    static [nativetype_1.NativeType.ctor_copy](to, from) {
        to.as(this)[nativetype_1.NativeType.ctor_copy](new this(from));
    }
    static [nativetype_1.NativeType.ctor_move](to, from) {
        to.as(this)[nativetype_1.NativeType.ctor_move](new this(from));
    }
    static [nativetype_1.NativeType.setter](ptr, value, offset) {
        const nptr = ptr.addAs(this, offset, (offset || 0) >> 31);
        nptr[nativetype_1.NativeType.setter](value);
    }
    static [nativetype_1.NativeType.getter](ptr, offset) {
        return ptr.addAs(this, offset, (offset || 0) >> 31);
    }
    static [nativetype_1.NativeType.descriptor](builder, key, offset) {
        const type = this;
        builder.desc[key] = {
            configurable: true,
            get() {
                const value = type[nativetype_1.NativeType.getter](this, offset);
                Object.defineProperty(this, key, { value });
                return value;
            }
        };
        if (type[nativetype_1.NativeType.ctor] !== common_1.emptyFunc) {
            builder.ctor.code += `this${accessor(key)}[NativeType.ctor]();\n`;
        }
        if (type[nativetype_1.NativeType.dtor] !== common_1.emptyFunc) {
            builder.dtor.code += `this${accessor(key)}[NativeType.dtor]();\n`;
        }
        builder.ctor_copy.code += `this${accessor(key)}[NativeType.ctor_copy](o${accessor(key)});\n`;
    }
    /**
     * alias of [NativeType.ctor]();
     */
    construct() {
        this[nativetype_1.NativeType.ctor]();
    }
    /**
     * alias of [NativeType.dtor]();
     */
    destruct() {
        this[nativetype_1.NativeType.dtor]();
    }
    static next(ptr, count) {
        const clazz = this;
        const size = clazz[core_1.StructurePointer.contentSize];
        if (size === null) {
            throw Error('Cannot call the next with the unknown sized structure');
        }
        return ptr.addAs(this, count * size);
    }
    /**
     * Cannot construct & Unknown size
     */
    static abstract(fields, defineSize, defineAlign) {
        const clazz = this;
        clazz.define(fields, defineSize, defineAlign, true);
    }
    static define(fields, defineSize, defineAlign = null, abstract = false) {
        const clazz = this;
        if (makefunc_1.makefunc.np2js in clazz) {
            clazz[nativetype_1.NativeType.getter] = wrapperGetter;
            clazz[nativetype_1.NativeType.descriptor] = wrapperDescriptor;
        }
        if (clazz.hasOwnProperty(isSealed)) {
            throw Error('Cannot define the structure of the already used');
        }
        const superclass = clazz.__proto__;
        sealClass(superclass);
        const def = new StructureDefination(superclass);
        structures.set(clazz, def);
        for (const key in fields) {
            const type = fields[key];
            if (type instanceof Array) {
                def.field(key, type[0], type[1]);
            }
            else {
                def.field(key, type);
            }
        }
        if (abstract)
            def.eof = null;
        if (defineAlign !== null)
            def.align = defineAlign;
        def.define(clazz, defineSize);
    }
    static defineAsUnion(fields, abstract = false) {
        const clazz = this;
        for (const key in fields) {
            const item = fields[key];
            if (!(item instanceof Array)) {
                fields[key] = [item, 0];
            }
        }
        return clazz.define(fields, undefined, undefined, abstract);
    }
    static ref() {
        return refSingleton.newInstance(this, () => makeReference(this));
    }
    static offsetOf(field) {
        return this[offsetmap][field];
    }
}
exports.NativeClass = NativeClass;
NativeClass[_a] = 0;
NativeClass[_b] = 1;
NativeClass[_c] = 0;
NativeClass[_d] = true;
NativeClass[_e] = true;
NativeClass.prototype[nativetype_1.NativeType.size] = 0;
function sealClass(cls) {
    let node = cls;
    while (!node.hasOwnProperty(isSealed)) {
        node[isSealed] = true;
        node = node.__proto__;
    }
}
function nativeField(type, fieldOffset) {
    return (obj, key) => {
        const clazz = obj.constructor;
        let def = structures.get(clazz);
        if (def === undefined)
            structures.set(clazz, def = new StructureDefination(clazz.__proto__));
        def.field(key, type, fieldOffset);
    };
}
exports.nativeField = nativeField;
function nativeClass(size, align = null) {
    return (clazz) => {
        const def = structures.get(clazz);
        if (def === undefined) {
            if (makefunc_1.makefunc.np2js in clazz) {
                clazz[nativetype_1.NativeType.getter] = wrapperGetter;
                clazz[nativetype_1.NativeType.descriptor] = wrapperDescriptor;
            }
            sealClass(clazz);
            const superclass = clazz.__proto__;
            clazz[core_1.StructurePointer.contentSize] =
                clazz.prototype[nativetype_1.NativeType.size] =
                    clazz[nativetype_1.NativeType.size] = size === undefined ? superclass[nativetype_1.NativeType.size] : size;
            clazz[nativetype_1.NativeType.align] = align == null ? superclass[nativetype_1.NativeType.align] : align;
        }
        else {
            structures.delete(clazz);
            if (align !== null)
                def.align = align;
            def.define(clazz, size);
        }
    };
}
exports.nativeClass = nativeClass;
function wrapperGetter(ptr, offset) {
    return this[makefunc_1.makefunc.np2js](ptr.addAs(this, offset));
}
function wrapperGetterRef(ptr, offset) {
    return this[makefunc_1.makefunc.np2js](ptr.getNullablePointerAs(this, offset));
}
function wrapperSetterRef(ptr, value, offset) {
    ptr.setPointer(this[makefunc_1.makefunc.js2np](value), offset);
}
function wrapperDescriptor(builder, key, offset) {
    const clazz = this;
    builder.desc[key] = {
        configurable: true,
        get() {
            const value = clazz[makefunc_1.makefunc.np2js](this.addAs(clazz, offset));
            Object.defineProperty(this, key, { value });
            return value;
        }
    };
    if (clazz[nativetype_1.NativeType.ctor] !== common_1.emptyFunc) {
        builder.ctor.code += `this${accessor(key)}[NativeType.ctor]();\n`;
    }
    if (clazz[nativetype_1.NativeType.dtor] !== common_1.emptyFunc) {
        builder.dtor.code += `this${accessor(key)}[NativeType.dtor]();\n`;
    }
    builder.ctor_copy.code += `this${accessor(key)}[NativeType.ctor_copy](o${accessor(key)});\n`;
}
const refSingleton = new singleton_1.Singleton();
class NativeArray extends core_1.PrivatePointer {
    static [nativetype_1.NativeType.getter](ptr, offset) {
        return ptr.addAs(this, offset, offset >> 31);
    }
    static [nativetype_1.NativeType.setter](ptr, value, offset) {
        throw Error("non assignable");
    }
    static [nativetype_1.NativeType.descriptor](builder, key, offset) {
        const type = this;
        builder.desc[key] = {
            configurable: true,
            get() {
                const value = this.addAs(type, offset, offset >> 31);
                Object.defineProperty(this, key, { value });
                return value;
            }
        };
        if (type[nativetype_1.NativeType.ctor] !== common_1.emptyFunc) {
            builder.ctor.code += `this${accessor(key)}[NativeType.ctor]();\n`;
        }
        if (type[nativetype_1.NativeType.dtor] !== common_1.emptyFunc) {
            builder.dtor.code += `this${accessor(key)}[NativeType.dtor]();\n`;
        }
        builder.ctor_copy.code += `this${accessor(key)}[NativeType.ctor_copy](o${accessor(key)});\n`;
    }
    static make(itemType, count) {
        var _g, _h, _j;
        const itemSize = itemType[nativetype_1.NativeType.size];
        if (itemSize === null)
            throw Error('Unknown size of item. NativeArray needs item size');
        const propmap = new nativetype_1.NativeDescriptorBuilder;
        propmap.desc.length = { value: count };
        let off = 0;
        for (let i = 0; i < count; i++) {
            itemType[nativetype_1.NativeType.descriptor](propmap, i, off);
            off += itemSize;
        }
        class NativeArrayImpl extends NativeArray {
        }
        _g = nativetype_1.NativeType.size, _h = core_1.StructurePointer.contentSize, _j = nativetype_1.NativeType.align, nativetype_1.NativeType.size;
        NativeArrayImpl[_g] = off;
        NativeArrayImpl[_h] = off;
        NativeArrayImpl[_j] = itemType[nativetype_1.NativeType.align];
        NativeArrayImpl.prototype[nativetype_1.NativeType.size] = off;
        Object.defineProperties(NativeArrayImpl.prototype, propmap.desc);
        return NativeArrayImpl;
    }
}
exports.NativeArray = NativeArray;
_f = nativetype_1.NativeType.align;
NativeArray[_f] = 1;
exports.MantleClass = NativeClass;
function makeReference(type) {
    var _g, _h, _j;
    const Parent = type;
    class Pointer extends Parent {
        constructor() {
            super();
        }
        static [(_g = nativetype_1.NativeType.size, _h = nativetype_1.NativeType.align, core_1.StructurePointer.contentSize, _j = isSealed, nativetype_1.NativeType.getter)](ptr, offset) {
            return ptr.getNullablePointerAs(this, offset);
        }
        static [nativetype_1.NativeType.setter](ptr, value, offset) {
            ptr.setPointer(value, offset);
        }
        static [nativetype_1.NativeType.ctor]() {
            // empty
        }
        static [nativetype_1.NativeType.dtor]() {
            // empty
        }
        static [nativetype_1.NativeType.ctor_copy](ptr, from) {
            ptr.copyFrom(from, 8);
        }
        static [nativetype_1.NativeType.ctor_move](ptr, from) {
            this[nativetype_1.NativeType.ctor_copy](ptr, from);
        }
        static [nativetype_1.NativeType.descriptor](builder, key, offset) {
            common_1.abstract();
        }
        static define() {
            throw Error('Wrong call, does not need to define structure of pointer class');
        }
    }
    Pointer[_g] = 8;
    Pointer[_h] = 8;
    Pointer[_j] = true;
    Pointer[nativetype_1.NativeType.descriptor] = nativetype_1.NativeType.defaultDescriptor;
    if (makefunc_1.makefunc.np2js in type)
        Pointer[nativetype_1.NativeType.getter] = wrapperGetterRef;
    if (makefunc_1.makefunc.js2np in type)
        Pointer[nativetype_1.NativeType.setter] = wrapperSetterRef;
    return Pointer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aXZlY2xhc3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJuYXRpdmVjbGFzcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEscUNBQXVGO0FBQ3ZGLGlDQUFxRztBQUNyRyx5Q0FBc0M7QUFDdEMsNkNBQXlFO0FBQ3pFLDJDQUF3QztBQUN4QyxpQ0FBa0M7QUFTbEMsTUFBTSxhQUFhLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDL0IsTUFBTSxRQUFRLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDMUIsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFFM0IsU0FBUyxRQUFRLENBQUMsR0FBaUI7SUFDL0IsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRO1FBQUUsT0FBTyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQy9DLElBQUkseUJBQXlCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUFFLE9BQU8sSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUMxRCxPQUFPLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0FBQ3RDLENBQUM7QUFlRCxNQUFNLG1CQUFtQjtJQVFyQixZQUFZLFFBQTZCO1FBRnpDLFdBQU0sR0FBMEMsRUFBRSxDQUFDO1FBRy9DLElBQUksQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLHVCQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsdUJBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsTUFBTSxDQUF3QixLQUF3QixFQUFFLElBQWlCO1FBQ3JFLElBQUksSUFBSSxJQUFJLElBQUksRUFBRTtZQUNkLElBQUksSUFBSSxLQUFLLElBQUksRUFBRTtnQkFDZixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQzthQUNuQjtpQkFBTTtnQkFDSCxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsS0FBSyxJQUFJ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