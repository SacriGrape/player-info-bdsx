"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DocType = exports.DocMethod = exports.DocField = void 0;
const styling_1 = require("./styling");
const READONLY = /^READ ONLY. /;
const WILL_BE = / Will be: (.+)\.$/;
const CAN_BE = / Can be: (.+)\.$/;
const typeRemap = new Map();
typeRemap.set('String', { type: 'string' });
typeRemap.set('Positive Integer', { type: 'number', comment: true });
typeRemap.set('Integer', { type: 'number', comment: true });
typeRemap.set('JavaScript Object', { type: 'any', comment: true });
typeRemap.set('Boolean', { type: 'boolean' });
typeRemap.set('Decimal', { type: 'number' });
typeRemap.set('JSON Object', { type: 'any' });
typeRemap.set('Range [a, b]', { type: '[number, number]' });
typeRemap.set('Minecraft Filter', { type: 'MinecraftFilter' });
typeRemap.set('Vector [a, b, c]', { type: 'VectorArray' });
typeRemap.set('List', { type: 'any[]' });
function stripRegExp(str, regexp, onmatch) {
    const res = regexp.exec(str);
    if (res === null)
        return str;
    str = str.substr(0, res.index) + str.substr(res.index + res[0].length);
    onmatch(res);
    return str;
}
class DocField {
    constructor(name, type) {
        this.name = name;
        this.type = type;
    }
    static fromRow(row) {
        var _a, _b, _c, _d, _e, _f;
        const name = ((_a = row.Name) === null || _a === void 0 ? void 0 : _a.text) || '';
        let type = ((_b = row.Type) === null || _b === void 0 ? void 0 : _b.text) || '';
        let desc = ((_c = row.Description) === null || _c === void 0 ? void 0 : _c.text) || ((_d = row.Value) === null || _d === void 0 ? void 0 : _d.text) || '';
        let readonly = false;
        const defval = ((_e = row.DefaultValue) === null || _e === void 0 ? void 0 : _e.text) || '';
        desc = stripRegExp(desc, READONLY, () => {
            readonly = true;
        });
        desc = stripRegExp(desc, WILL_BE, matched => {
            type = matched[1];
        });
        desc = stripRegExp(desc, CAN_BE, matched => {
            type = matched[1].split(' or ').join('|');
        });
        const inner = (_f = row.Description) === null || _f === void 0 ? void 0 : _f.table;
        let ntype;
        if (inner) {
            ntype = DocType.fromTable(inner);
            if (type === 'List')
                ntype.arrayWrapped = true;
        }
        else {
            ntype = new DocType;
            const remapped = typeRemap.get(type);
            if (remapped) {
                if (remapped.comment)
                    desc = `${type}.\n${desc}`;
                ntype.inlineTypeName = remapped.type;
            }
            else {
                const iname = styling_1.styling.apiObjectNameToInterfaceName(type);
                if (iname !== null) {
                    ntype.inlineTypeName = iname;
                }
                else {
                    ntype.inlineTypeName = type;
                }
            }
            if (type === 'JavaScript Object') {
                if (name.endsWith('_position')) {
                    ntype.inlineTypeName = 'VectorXYZ';
                }
                else
                    switch (name) {
                        case 'ticking_area':
                            ntype.inlineTypeName = 'ITickingArea';
                            break;
                    }
            }
        }
        if (defval) {
            desc += `\n@default ${defval}`;
            ntype.optional = true;
        }
        const field = new DocField(name, ntype);
        ntype.readonly = readonly;
        ntype.desc = desc;
        return field;
    }
}
exports.DocField = DocField;
const PARAM = /^param([0-9]+):(.+)$/;
class DocMethod {
    constructor(name) {
        this.name = name;
        this.params = [];
        this.return = null;
        this.deleted = false;
        this.desc = '';
    }
    static fromDocFix(name, docfix) {
        const method = new DocMethod(name);
        if (docfix === null) {
            method.deleted = true;
        }
        else {
            method.desc = docfix.desc || '';
            for (const param in docfix) {
                const reg = PARAM.exec(param);
                if (reg === null)
                    continue;
                const fieldfix = DocType.fromDocFix(docfix[param]);
                method.params[+reg[1]] = new DocField(reg[2], fieldfix);
            }
            if (docfix.return !== undefined) {
                method.return = DocType.fromDocFix(docfix.return);
            }
        }
        return method;
    }
    setCamel() {
        for (const param of this.params) {
            param.name = styling_1.styling.toCamelStyle(param.name, ' ');
        }
    }
    getField(name) {
        for (const field of this.params) {
            if (!field)
                continue;
            if (field.name === name)
                return field;
        }
        return null;
    }
    patch(docfix) {
        for (const param of this.params) {
            if (!param)
                continue;
            const paramFix = docfix.getField(param.name);
            if (paramFix === null)
                continue;
            const fixtype = paramFix.type;
            const type = paramFix.type;
            if (fixtype.inlineTypeName)
                type.inlineTypeName = fixtype.inlineTypeName;
            if (fixtype.optional)
                type.optional = true;
        }
        if (docfix.return !== null) {
            if (this.return === null)
                this.return = docfix.return;
            else
                this.return.patch(docfix.return);
        }
        if (docfix.deleted)
            this.deleted = true;
        if (docfix.desc)
            this.desc = docfix.desc;
        return this;
    }
}
exports.DocMethod = DocMethod;
class DocType {
    constructor() {
        this.fields = [];
        this.methods = [];
        this.inlineTypeName = '';
        this.desc = '';
        this.optional = false;
        this.readonly = false;
        this.arrayWrapped = false;
        this.wrapToArray = '';
        this.deleted = false;
    }
    static inline(name) {
        const type = new DocType;
        type.inlineTypeName = name;
        return type;
    }
    static fromTable(table) {
        const out = new DocType;
        for (const row of table) {
            out.fields.push(DocField.fromRow(row));
        }
        return out;
    }
    static fromDocFix(docfix) {
        const out = new DocType;
        if (docfix === null) {
            out.deleted = true;
        }
        else if (typeof docfix === 'string') {
            out.inlineTypeName = docfix;
            out.optional = undefined;
            out.readonly = undefined;
        }
        else {
            out.desc = docfix.desc || '';
            out.inlineTypeName = docfix.type || '';
            out.optional = docfix.optional;
            out.readonly = docfix.readonly;
            switch (typeof docfix.wrapToArray) {
                case 'string':
                    out.wrapToArray = docfix.wrapToArray;
                    break;
                case 'boolean':
                    out.arrayWrapped = docfix.wrapToArray;
                    break;
            }
            for (const key in docfix) {
                const item = docfix[key];
                if (key.startsWith('field:')) {
                    const type = DocType.fromDocFix(item);
                    out.fields.push(new DocField(key.substr(6), type));
                }
                else if (key.startsWith('method:')) {
                    const method = DocMethod.fromDocFix(key.substr(7), item);
                    out.methods.push(method);
                }
            }
        }
        return out;
    }
    isVectorXYZ() {
        if (this.methods.length !== 0)
            return false;
        if (this.fields.length !== 3)
            return false;
        const obj = new Set(['x', 'y', 'z']);
        for (let i = 0; i < this.fields.length; i++) {
            const field = this.fields[i];
            if (field.type.inlineTypeName !== 'number')
                return false;
            if (!obj.delete(field.name))
                return false;
        }
        console.assert(obj.size === 0);
        return true;
    }
    getFieldType(name) {
        for (const field of this.fields) {
            if (field.name === name)
                return field.type;
        }
        return null;
    }
    getMethod(name) {
        for (const method of this.methods) {
            if (method.name === name)
                return method;
        }
        return null;
    }
    patch(docfix) {
        for (const fieldFix of docfix.fields) {
            const type = this.getFieldType(fieldFix.name);
            if (type === null) {
                this.fields.push(fieldFix);
                this.inlineTypeName = '';
            }
            else {
                type.patch(fieldFix.type);
            }
        }
        for (const methodFix of docfix.methods) {
            const method = this.getMethod(methodFix.name);
            if (method === null) {
                this.methods.push(methodFix);
                this.inlineTypeName = '';
            }
            else {
                method.patch(methodFix);
            }
        }
        if (docfix.deleted)
            this.deleted = true;
        if (docfix.desc)
            this.desc = docfix.desc;
        if (docfix.inlineTypeName) {
            this.inlineTypeName = docfix.inlineTypeName;
            this.fields.length = 0;
            this.methods.length = 0;
        }
        if (docfix.optional !== undefined)
            this.optional = docfix.optional;
        if (docfix.readonly !== undefined)
            this.readonly = docfix.readonly;
        if (docfix.wrapToArray) {
            const inner = new DocType;
            inner.set(this);
            inner.arrayWrapped = true;
            this.fields.push(new DocField(docfix.wrapToArray, inner));
        }
        if (docfix.arrayWrapped) {
            this.arrayWrapped = true;
        }
        return this;
    }
    set(other) {
        this.fields.push(...other.fields);
        this.methods.push(...other.methods);
        this.inlineTypeName = other.inlineTypeName;
        this.desc = other.desc;
        this.optional = other.optional;
        this.readonly = other.readonly;
        this.arrayWrapped = other.arrayWrapped;
        this.deleted = other.deleted;
    }
    clear() {
        this.fields.length = 0;
        this.methods.length = 0;
        this.inlineTypeName = '';
        this.desc = '';
        this.optional = false;
        this.readonly = false;
        this.arrayWrapped = false;
        this.deleted = false;
        this.wrapToArray = '';
    }
    async writeTo(name, writer) {
        if (this.deleted)
            return;
        const tab = '';
        if (this.desc) {
            await writer.write(`${tab}/**\n`);
            await writer.write(`${tab} * ${this.desc.replace(/\n/g, `\n${tab} * `)}\n`);
            await writer.write(`${tab} */\n`);
        }
        if (this.inlineTypeName !== '') {
            await writer.write(`type ${name} = ${this.inlineTypeName};\n\n`);
            return;
        }
        const tabi = '    ';
        if (this.arrayWrapped)
            await writer.write(`type ${name} = {`);
        else
            await writer.write(`interface ${name} {\n`);
        for (const field of this.fields) {
            if (field.type.deleted)
                continue;
            if (field.type.desc) {
                await writer.write(`${tabi}/**\n`);
                await writer.write(`${tabi} * ${field.type.desc.replace(/\n/g, `\n${tabi} * `)}\n`);
                await writer.write(`${tabi} */\n`);
            }
            await writer.write(`${tabi}${field.type.stringify(tabi, field.name, { ignoreOptional: true })};\n`);
        }
        for (const method of this.methods) {
            if (method.deleted)
                continue;
            await writer.write(`${tabi}/**\n`);
            if (method.desc)
                await writer.write(`${tabi} * ${method.desc}\n`);
            for (const param of method.params) {
                if (param.type.desc) {
                    await writer.write(`${tabi} * @param ${param.name} ${param.type.desc.replace(/\n/g, `\n${tabi} *    `)}\n`);
                }
            }
            if (method.return !== null) {
                if (method.return.desc) {
                    await writer.write(`${tabi} * @return ${method.return.desc.replace(/\n/g, `\n${tabi} *    `)}\n`);
                }
            }
            await writer.write(`${tabi} */\n`);
            const arr = [];
            for (const param of method.params) {
                if (param.type.deleted)
                    continue;
                arr.push(`${param.type.stringify(tabi, param.name, { ignoreReadonly: true })}`);
            }
            await writer.write(`${tabi}${method.name}(${arr.join(', ')}):${method.return === null ? 'void' : method.return.stringify(tabi, '')};\n`);
        }
        if (this.arrayWrapped)
            await writer.write(`}[]\n`);
        else
            await writer.write(`}\n\n`);
    }
    stringify(tab, name, opts = {}) {
        if (this.arrayWrapped)
            opts.ignoreOptional = false;
        if (name !== '') {
            name = styling_1.styling.toFieldName(name);
            if (!opts.ignoreReadonly && this.readonly)
                name = 'readonly ' + name;
            if (!opts.ignoreOptional && this.optional)
                name += '?';
            name += ':';
        }
        let out = name;
        if (this.isVectorXYZ()) {
            out += 'VectorXYZ';
        }
        else {
            const tabi = tab + '    ';
            if (this.inlineTypeName) {
                out += this.inlineTypeName.replace(/\n/g, '\n' + tabi);
            }
            else {
                out += '{\n';
                for (const field of this.fields) {
                    if (field.type.desc) {
                        out += `${tabi}/**\n`;
                        out += `${tabi} * ${field.type.desc.replace(/\n/g, `\n${tabi} * `)}\n`;
                        out += `${tabi} */\n`;
                    }
                    out += `${tabi}${field.type.stringify(tabi, field.name, opts)},\n`;
                }
                out = out.substr(0, out.length - 2);
                out += `\n${tab}}`;
            }
        }
        if (this.arrayWrapped)
            out += '[]';
        return out;
    }
    static async writeTableKeyUnion(name, prefix, rows, key, value, writer) {
        await writer.write(`interface ${name}Map {\n`);
        const tabi = '    ';
        for (const row of rows) {
            const id = row[key].text;
            if (!id.startsWith(prefix)) {
                console.error(`   └ ${id}: Prefix is not ${prefix}`);
                continue;
            }
            const v = value(id);
            if (v === null)
                continue;
            await writer.write(`${tabi}${JSON.stringify(v)}:void;\n`);
        }
        await writer.write(`}\n`);
        await writer.write(`type ${name} = keyof ${name}Map;\n\n`);
    }
}
exports.DocType = DocType;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQW9DO0FBR3BDLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQztBQUNoQyxNQUFNLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQztBQUNwQyxNQUFNLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQztBQUVsQyxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFHckIsQ0FBQztBQUNMLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxDQUFDLENBQUM7QUFDekMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7QUFDbEUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ3pELFNBQVMsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ2hFLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxDQUFDLENBQUM7QUFDM0MsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQztBQUMxQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDO0FBQzVDLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLEVBQUMsSUFBSSxFQUFFLGtCQUFrQixFQUFDLENBQUMsQ0FBQztBQUMxRCxTQUFTLENBQUMsR0FBRyxD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